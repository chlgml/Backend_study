## DI, IOC



### DI(Dependency Injection)란,

스프링이 다른 프레임워크와 차별화되어 제공하는 **의존 관계 주입기능**으로, 객체를 직접 생성하지 않고 외부에서 생성한 후 주입시켜주는 방식이다. 매번 new로 인스턴스를 생성하지 않고 의존성 객체라는 프레임워크에 의해 생성된 객체를 주입시킨다.

new를 통해 의존성을 주입한다면, 인스턴스 변수에 new를 통해 객체를 할당하면서 두 객체간의 긴밀한 결합이 생긴다. 이 긴밀한 결합으로 인해서 하나의 인스턴스에 변화가 생긴다면 의존관계에 있는 다른 클래스의 속성에 변화가 생긴다. 따라서 하나의 모듈이 바뀌면 다른 모듈까지 변경해야 하기 떄문에 코드의 유지, 보수가 힘들어진다.

DI를 통해서 모듈간의 결합도가 낮아지고(느슨한 결합) 유연성이 높아진다.



### IOC(Inversion of Control)란,

스프링을 쓰기 전에는 객체의 생성주기를 개발자가 관리했지만 스프링을 사용하게 되면서 프로그램의 흐름을 스프링 프레임워크가 주도하게 되어, 객체의 생성주기를 프레임워크가 관리하므로 이를 제어 역전이라고 표현한다. 메소드나 객체의 호출작업을 개발자가 아니라 외부에서 결정한다.

객체의 의존성을 역전시켜 객체 간의 결합도를 줄이고 유연한 코드를 작성 할 수 있게 하여 가독성 및 코드 중복, 유지 보수를 편하게 할 수 있다.



### 의존성 주입

의존성을 주입하는 방식은 크게 3가지 이다.

- 생성자를 통한 주입
- setter 메소드를 통한 주입
- 필드상의 인스턴스 변수를 통한 주입

이 중 스프링에서 권장하는 방식은 생성자를 통한 주입방식이다. 생성자 주입 방식은 객체를 생성하는 시점에서 Bean을 주입하는 반면 다른 방식은 Bean을 생성한 후에 어노테이션이 붙은 필드를 보고 찾아 Bean을 주입한다. 생성자 주입방식에서는 순환참조가 일어날경우 예외가 발생하면서 어플리케이션이 구동되지 않기에 순환 참조로 인한 문제를 사전에 방지하는 생성자 주입 방식이 권장 된다.



스프링에서는 객체를 Bean이라고 부르며, 프로젝트가 실행될때 사용자가 Bean으로 관리하는 객체들의 생성과 소멸에 관련된 작업을 자동적으로 수행해주는데 객체가 생성되는 곳을 스프링에서는 Bean 컨테이너라고 부른다.

