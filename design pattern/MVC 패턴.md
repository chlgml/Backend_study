## MVC 패턴

MVC 패턴은 공부하면서 다들 한번쯤은 들어봤을 것이다. 그렇다면 이 MVC 패턴은 과연 무었일까? 일단, MVC는 모델 - 뷰 - 컨트롤러(**m**odel–**v**iew–**c**ontroller)의 약자이며, 개발을 할 떄 3가지의 형태로 나누어 개발하는 방법론이다. 사용자 인터페이스로부터 비지니스 로직을 분리하여 서로 영향을 받지 않게끔 할 수 있기에 유지보수가 쉬워진다.



### Model

어플리케이션이 무엇을 할 것인가를 정의하며, 내부 비지니스 로직을 처리하기 위한 역할을 한다. 쉽게 풀어서 설명하면 컨트롤러가 호출시 DB와의 상호작용으로 데이터를 다루는 역할을 수행한다.

- model의 규칙

  - 사용자가 편집하기를 원하는 모든 데이터를 가지고 있어야 한다.

  - view와 controller에 대해서 어떤 정보도 알고있지 않는다.

  - 변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야한다.

    모델은 변경이 일어난다면 이벤트를 발생시켜서 누군가에게 전달해야하며, 누군가 모델을 변형하도록 요청을 보냈을 때 이를 수신할 처리방법을 구현해야한다.

  

### View

View는 많이 들어봤을 것이다. View를 해석하면 '전망'이다. 그것과 마찬가지로 컴퓨터의 전망은 바로 화면(UI)이다. 컨트롤러에서 받은 모델값을 사용자의 화면에 출력해주는 일을 한다. 

MVC에서는 여러개의 view가 존재 할 수 있다.

- view의 규칙

  - model이 가지고 있는 정보를 따로 저장하면 안된다.
    model에서 받은 데이터는 별도로 저장하지 않는다.
  - model이나 controller와 같은 다른 구성요소들은 몰라야한다.
    model과 view는 서로의 존재를 몰라야한다.

  - 변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야한다.

  

### Controller

controller도 많이 들어봤을 것이다. controller는 model과 view 사이를 이어주는 역할을 한다. 즉 중간에서 view의 요청(데이터를 어떻게 처리해야 할지)을 model에게 전달하고 업무 수행 결과를 다시 view에게 전달하는 역할을 한다.

- controller 규칙
  - model이나 view에 대해서 알고 있어야 한다.
  - model이나 view의 변경을 모니터링 해야한다.



## MVC 구동원리

위에 3개를 다 알고 나니 구동원리가 어느정도 가늠이 되지만 정확하게 설명하도록 하겠다.

![image](https://user-images.githubusercontent.com/81290737/158995201-1616d82e-9a70-4077-a30c-123d1adbfd8e.png)

사진의 출처 : [mvc패턴구동 방법 사진 출처](https://newindow.tistory.com/66)

1. 웹 브라우저가 웹 서버에 웹 애플리케이션 실행을 요청한다.
2. 웹 서버는 들어오는 요청을 처리할 수 있는 서블릿을 찾아서 요청한다.
3. 서블릿은 모델 자바 객체의 메서드를 호출한다.
4. 데이터를 가공하여 값 객체를 생성하거나, JDBC를 사용하여 데이터베이스와의 인터랙션을 통해 값 객체를 생성한다.
5. 업무 수행을 마친 결과 값을 컨트롤러에게 반환한다. 
6. 컨트롤러를 모델로부터 받은 결과를 뷰에 전달한다.
7. JSP는 전달받은 값을 참조하여 출력할 결과 화면을 만들고 컨트롤러에게 전달한다.
8. 뷰로부터 받은 화면을 웹 서버에게 전달한다.
9. 웹 브라우저는 웹 서버로부터 요청한 결과값을 응답받으면 그 값을 화면에 출력한다.





## MVC 패턴을 사용해야 하는 이유

모델 - 뷰 - 컨트롤러 3가지로 분류하면, 자신들이 맡은 일에만 집중할 수 있어 처리를 효율적으로 할 수 있다. 또한 서로 분리가 되어 있기 때문에 유지보수가 쉬우며, 확장성이 좋다. 그리고 클라이언트의 요구 사항에 따라 유연하게 대처할 수 있으며, 중복 코딩의 문제가 사라진다.

하지만, 장점도 있다면 단점도 있는 법이다. 아까 view가 여러개가 존재할 수 있다고 했는데 controller를 통해서 하나의 View에 연결될 수 있는 Model도 여러개가 될 수 있다. 그러므로 복잡한 프로젝트를 진행 했을 때 controller에 다수의 View와 Model이 연결되어 소스 분석과 테스트가 어려워진다. -> 이를 해결하기 위한 패턴이 존재함.(MVP 등)

